<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Landsat Question Generator</title>
    <link rel="stylesheet" href="assets/styles.css" />
</head>

<body>
    <h1>üåç Landsat Image Question Generator</h1>
    <input id="image-url" placeholder="Enter Landsat image URL..." />
    <textarea id="description" placeholder="Enter image description..."></textarea>
    <button onclick="generate()">Generate & Save</button>
    <div id="output" class="output">> Results will appear here...</div>
    <script>
        async function generate() {
            const url = document.getElementById("image-url").value;
            const desc = document.getElementById("description").value;
            const output = document.getElementById("output");
            output.textContent = "Loading‚Ä¶";

            const res = await fetch("https://YOUR_RENDER_URL.onrender.com/generate", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ image_url: url, description: desc })
            });

            const data = await res.json();
            if (data.questions) {
                output.textContent = data.questions;
                // Save result to your database
                await fetch("save.php", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ image_url: url, description: desc, questions: data.questions })
                });
            } else {
                output.textContent = `Error: ${data.error}`;
            }
        }
    </script>
</body>

</html>